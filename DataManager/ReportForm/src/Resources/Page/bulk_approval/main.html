<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <?!= ReportFormPage.includeStylesheet("common/common.css"); ?>
    <base target="_top" />
    <script>
        function bulkApprove() {
            if (confirm("承認します。\nよろしいですか？")) {
                let onSuccess = function () {
                    alert("承認しました");
                    window.open("%link:LevelReportWebsiteController%", "_top");
                }
                let onFailure = function (error) {
                    alert("承認処理に失敗しました\n" + error.message);
                }
                google.script.run
                    .withSuccessHandler(onSuccess)
                    .withFailureHandler(onFailure)
                    .bulkApprove("%reportId%", "%versionName%");
            }
        }
        function bulkReject() {
            if (confirm("却下します。\nよろしいですか？")) {
                let onSuccess = function () {
                    alert("却下しました");
                    window.open("%link:LevelReportWebsiteController%", "_top");
                }
                let onFailure = function (error) {
                    alert("却下処理に失敗しました\n" + error.message);
                }
                google.script.run
                    .withSuccessHandler(onSuccess)
                    .withFailureHandler(onFailure)
                    .bulkReject("%reportId%", "%versionName%");
            }
        }
    </script>
</head>
<body>
    <div class="box_1">
        <div class="box_1_title">
            レベル検証報告
        </div>
        <div class="result_bg bg_%difficulty% w420">
            <div class="result_difficulty">
                <img src="%difficultyImagePath%" />
            </div>
            <div class="result_box w400" style="margin:0px auto 5px auto">
                <div class="underline">Lv：<span class="text_b">%targetMusicLevel%</span></div>
                <div class="underline">楽曲数：<span class="text_b">%musicCount%</span></div>
                <div class="underline">OP(割合)：<span class="text_b">%op% (%opRatio%%)</span></div>
                <div class="underline">報告日時：%reportDate%</div>
            </div>
            %verificationImageContainer%
        </div>
        %approveFormContainer%
        <div class="text_center">
            <a href="%link:LevelReportListWebsiteController%">検証報告リストへ</a>
        </div>
    </div>
</body>
</html>