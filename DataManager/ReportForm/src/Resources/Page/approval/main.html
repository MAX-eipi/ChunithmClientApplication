<!DOCTYPE html>

<html>
<head>
    <?!= ReportFormPage.includeStylesheet("common/common.css"); ?>
    <script>
        function confirmApproval() {
            if (confirm("承認します。\nよろしいですか？")) {
                let onSuccess = function () {
                    alert("承認しました");
                    window.open("%link:UnitReportWebsiteController%", "_top");
                }
                let onFailure = function (error) {
                    alert("承認処理に失敗しました\n" + error.message);
                }
                google.script.run
                    .withSuccessHandler(onSuccess)
                    .withFailureHandler(onFailure)
                    .approve("%reportId%", "%versionName%");
            }
        }
        function confirmReject() {
            if (confirm("却下します。\nよろしいですか？")) {
                let onSuccess = function () {
                    alert("却下しました");
                    window.open("%link:UnitReportWebsiteController%", "_top");
                }
                let onFailure = function (error) {
                    alert("却下処理に失敗しました\n" + error.message);
                }
                google.script.run
                    .withSuccessHandler(onSuccess)
                    .withFailureHandler(onFailure)
                    .reject("%reportId%", "%versionName%");
            }
        }
    </script>
    <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + '://platform.twitter.com/widgets.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'twitter-wjs');</script>
    <base target="_top" />
</head>
<body>
    <div class="box_1">
        <div class="box_1_title">
            単曲検証報告
        </div>
        <div class="music_info w420">
            <!--<div class="music_jacket_side">
                <div class="music_jacket_box">
                    <div class="music_jacket_image"><img src="%jacketImagePath%" /></div>
                </div>
            </div>-->
            <div class="music_name_side">
                <div class="music_name_box">
                    <span class="music_name">%musicName%</span>
                </div>
            </div>
        </div>
        <div class="result_bg bg_%difficulty% w420">
            <div class="result_difficulty">
                <img src="%difficultyImagePath%" />
            </div>
            <div class="result_box w400" style="margin:0px auto 5px auto">
                <div class="underline">SCORE：<span class="text_b">%score%</span></div>
                <div class="underline">COMBO：<span class="text_b">%comboStatus%</span></div>
                <div class="underline">OP：<span class="text_b">%diffOp%</span> (%beforeOp% ⇒ %afterOp%)</div>
                <div>譜面定数：<span class="text_b">%baseRating%</span></div>
            </div>
            %verificationImageContainer%
        </div>
        %approveFormContainer%
        <div class="text_center">
            <a href="%link:UnitReportListWebsiteController%">検証報告リストへ</a>
        </div>
    </div>
</body>
</html>